(this.webpackJsonpmapboxAndReact=this.webpackJsonpmapboxAndReact||[]).push([[0],{29:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/login.ba305fec.png"},35:function(e,t,a){e.exports=a.p+"static/media/p1.c4b6029c.jpg"},41:function(e,t,a){e.exports=a(68)},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(31),i=a.n(s);a(46),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(7),c=a(8),l=a(10),u=a(9),p=(a(47),a(14)),m=a.n(p),h=a(21),d=a(18),g=a.n(d),f=(a(49),a(29),a(32)),b=a.n(f).a.initializeApp({apiKey:"AIzaSyBtXnFAj2YBJnxXbXvtAt3h3bcblS1KUaE",authDomain:"gtfapp-eb372.firebaseapp.com",databaseURL:"https://gtfapp-eb372.firebaseio.com",projectId:"gtfapp-eb372",storageBucket:"gtfapp-eb372.appspot.com",messagingSenderId:"961355962531",appId:"1:961355962531:web:31520bc4120f103f1d8716",measurementId:"G-PVZ0QY8L1K"}),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStyleClick=function(e){n.props.changeStyle(e)},n.handleTypeClick=function(e){},n.handleLogout=function(){b.auth().signOut()},n.state={styles:[{key:1,name:"Dark",link:"dark-v10"},{key:2,name:"Satellite",link:"satellite-streets-v11"},{key:3,name:"Outdoors",link:"outdoors-v11"},{key:4,name:"Light",link:"light-v10"},{key:5,name:"Streets",link:"streets-v11"}],types:[{name:"all",link:"mapbox://styles/mapbox/all"},{name:"Flora",link:"mapbox://styles/mapbox/Flora"},{name:"Fauna",link:"mapbox://styles/mapbox/Fauna"},{name:"Disturbances",link:"mapbox://styles/mapbox/Disturbances"}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropbtn"},"Styles"),r.a.createElement("div",{className:"dropdown-content"},this.state.styles.map((function(t,a,n){return r.a.createElement("p",{key:a,name:t.link,onClick:function(){return e.handleStyleClick(t)}},t.name)})))),r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropbtn"},"Type"),r.a.createElement("div",{className:"dropdown-content"},this.state.types.map((function(t,a,n){return r.a.createElement("p",{key:a,name:t.link,onClick:function(){return e.handleTypeClick(t)}},t.name)})))),r.a.createElement("div",{className:"logout-btn"},r.a.createElement("button",{className:"dropbtn",onClick:this.handleLogout},"Logout")))}}]),a}(n.Component),y=a(38),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStyleBtnClick=function(e){var t=e.link;n.setState({style:t}),n.swapStyle(t)},n.state={lat:26.4499,lng:80.3319,zoom:6,style:"mapbox://styles/mapbox/light-v10",activeType:"all"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.accessToken="pk.eyJ1IjoiZGV2NTk2IiwiYSI6ImNrOHJsaHY5cDAzcGQzbHBqc21vaWsxcnMifQ.B5rBbh4fDvTHEqQHrGU_Bg";var t=this.state,a=t.lat,n=t.lng,r=t.zoom,s=t.style;t.activeType;this.map=new g.a.Map({container:this.mapContainer,style:s,center:[n,a],zoom:r}),this.map.on("load",Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.map.addSource("earthquakes",{type:"geojson",data:"https://raw.githubusercontent.com/Devansh-S/shapefiles/master/state_ut/jj.geojson"}),e.map.addLayer({id:"earthquakes",type:"line",source:"earthquakes",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(255,0,0)","line-width":2}});case 2:case"end":return t.stop()}}),t)}))))}},{key:"swapStyle",value:function(e){var t=this,a=this.map.getStyle();Object(y.a)("https://api.mapbox.com/styles/v1/mapbox/".concat(e,"?access_token=").concat(g.a.accessToken),(function(e){e.sources=Object.assign({},a.sources,e.sources);var n=e.layers.findIndex((function(e){return"waterway-label"===e.id})),r=a.layers.filter((function(e){return e.source&&"mapbox://mapbox.satellite"!==e.source&&"composite"!==e.source}));r.reverse(),r.forEach((function(t){e.layers.splice(n,0,t)})),t.map.setStyle(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v,{Layers:this.state.styles,Types:this.state.types,changeStyle:this.handleStyleBtnClick,changeType:this.handleTypeBtnClick}),r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(r.a.Component),E=a(33),w=(a(61),a(62),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"base-container",ref:this.props.containerRef},r.a.createElement("div",{className:"header"},"Login"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.props.usernameValue,onChange:function(t){return e.props.onChangeUsername(t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.props.passwordValue,onChange:function(t){return e.props.onChangePassword(t.target.value)}}))),r.a.createElement("button",{type:"button",className:"Btn",onClick:function(t){return e.props.onClick(t)},disabled:this.props.BtnDisable},"Login")))}}]),a}(r.a.Component)),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"base-container",ref:this.props.containerRef},r.a.createElement("div",{className:"header"},"Register"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.props.usernameValue,onChange:function(t){return e.props.onChangeUsername(t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"password",placeholder:"password",value:this.props.passwordValue,onChange:function(t){return e.props.onChangePassword(t.target.value)}}))),r.a.createElement("button",{type:"button",className:"Btn",onClick:function(t){return e.props.onClick(t)},disabled:this.props.BtnDisable},"Register")))}}]),a}(r.a.Component),C=a(34),j=a.n(C),N=a(35),x=a.n(N),O=a(24),L=a.n(O),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogginActive:!0,username:"",password:"",buttonDisabled:!1},n}return Object(c.a)(a,[{key:"setInputValue",value:function(e,t){t=t.trim(),this.setState(Object(E.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"doLogin",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:this.setState({buttonDisabled:!0});try{b.auth().signInWithEmailAndPassword(this.state.username,this.state.password).then((function(e){})).catch((function(e){console.log(e)}))}catch(t){console.log(t),this.resetForm()}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSignup",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:this.setState({buttonDisabled:!0});try{alert("SignUp is Disabled! Please Login using given credentials")}catch(t){console.log(t),this.resetForm()}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.rightSide.classList.add("right"),b.auth().onAuthStateChanged((function(t){t?(console.log("/apppp"),e.props.history.push("/GTFapp/app")):(console.log("////////"),e.props.history.push("/GTFapp/"))})),this.setState({loading:!1})}},{key:"changeState",value:function(){this.state.isLogginActive?(this.rightSide.classList.remove("right"),this.rightSide.classList.add("left")):(this.rightSide.classList.remove("left"),this.rightSide.classList.add("right")),this.setState((function(e){return{isLogginActive:!e.isLogginActive}}))}},{key:"render",value:function(){var e=this,t=this.state.isLogginActive,a=t?"Register":"Login",n=t?"login":"register";return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",{className:"loader"},r.a.createElement(L.a,{type:"bars",color:"black",height:100,width:100})):r.a.createElement("div",{className:"LoginApp"},r.a.createElement("img",{className:"bgimg",src:x.a,alt:"img"}),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"mainContainer"},r.a.createElement("img",{src:j.a,alt:"background"}),r.a.createElement("div",{className:"container",ref:function(t){return e.container=t}},t&&r.a.createElement(w,{containerRef:function(t){return e.current=t},usernameValue:this.state.username?this.state.username:"",onChangeUsername:function(t){return e.setInputValue("username",t)},passwordValue:this.state.password?this.state.password:"",onChangePassword:function(t){return e.setInputValue("password",t)},onClick:function(t){return e.doLogin(t)},BtnDisable:this.buttonDisabled}),!t&&r.a.createElement(S,{containerRef:function(t){return e.current=t},usernameValue:this.state.username?this.state.username:"",onChangeUsername:function(t){return e.setInputValue("username",t)},passwordValue:this.state.password?this.state.password:"",onChangePassword:function(t){return e.setInputValue("password",t)},onClick:function(t){return e.doSignup(t)},BtnDisable:this.buttonDisabled}),r.a.createElement(D,{current:a,currentActive:n,containerRef:function(t){return e.rightSide=t},onClick:this.changeState.bind(this)}))))))}}]),a}(r.a.Component),D=function(e){return r.a.createElement("div",{className:"right-side",ref:e.containerRef,onClick:e.onClick},r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"text"},e.current)))},B=I,T=a(20),A=a(13),V=a(39),F=function(e){var t=e.component,a=e.loggedIn,n=Object(V.a)(e,["component","loggedIn"]);return r.a.createElement(A.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(A.a,{to:{pathname:"/GTFapp/"}})}}))},G=(a(67),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogginActive:!0,isUserLoggedIn:{},flag:!1,loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;b.auth().onAuthStateChanged((function(t){return console.log(t),t?(e.setState({isUserLoggedIn:t}),e.setState({flag:!0}),e.setState({loading:!1})):(e.setState({isUserLoggedIn:null}),e.setState({loading:!1})),t}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",{className:"loader"},r.a.createElement(L.a,{type:"bars",color:"black",height:100,width:100})):r.a.createElement(T.a,null,r.a.createElement(A.b,{exact:!0,path:"/GTFapp/",component:B}),r.a.createElement(F,{exact:!0,path:"/GTFapp/app",component:k,loggedIn:this.state.flag})))}}]),a}(r.a.Component));g.a.accessToken="pk.eyJ1IjoiZGV2NTk2IiwiYSI6ImNrOHJsaHY5cDAzcGQzbHBqc21vaWsxcnMifQ.B5rBbh4fDvTHEqQHrGU_Bg",i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.2b36b10f.chunk.js.map