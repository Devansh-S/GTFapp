(this.webpackJsonpmapboxAndReact=this.webpackJsonpmapboxAndReact||[]).push([[0],{17:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/login.ba305fec.png"},26:function(e,t,a){e.exports=a(47)},31:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(19),i=a.n(r);a(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(4),c=a(6),l=a(8),u=a(7),m=(a(32),a(9)),p=a.n(m),d=a(13),h=a(12),f=a.n(h),b=(a(34),a(17),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStyleClick=function(e){n.props.changeStyle(e)},n.handleTypeClick=function(e){},n.state={styles:[{key:1,name:"Dark",link:"dark-v10"},{key:2,name:"Satellite",link:"satellite-v9"},{key:3,name:"Outdoors",link:"outdoors-v11"},{key:4,name:"Light",link:"light-v10"},{key:5,name:"Streets",link:"streets-v11"}],types:[{name:"all",link:"mapbox://styles/mapbox/all"},{name:"Flora",link:"mapbox://styles/mapbox/Flora"},{name:"Fauna",link:"mapbox://styles/mapbox/Fauna"},{name:"Disturbances",link:"mapbox://styles/mapbox/Disturbances"}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"dropbtn"},"Styles"),s.a.createElement("div",{className:"dropdown-content"},this.state.styles.map((function(t,a,n){return s.a.createElement("p",{key:a,name:t.link,onClick:function(){return e.handleStyleClick(t)}},t.name)})))),s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"dropbtn"},"Type"),s.a.createElement("div",{className:"dropdown-content"},this.state.types.map((function(t,a,n){return s.a.createElement("p",{key:a,name:t.link,onClick:function(){return e.handleTypeClick(t)}},t.name)})))))}}]),a}(n.Component)),v=a(24),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStyleBtnClick=function(e){var t=e.link;n.setState({style:t}),n.swapStyle(t)},n.state={lat:26.4499,lng:80.3319,zoom:6,style:"mapbox://styles/mapbox/light-v10",activeType:"all"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.accessToken="pk.eyJ1IjoiZGV2NTk2IiwiYSI6ImNrOHJsaHY5cDAzcGQzbHBqc21vaWsxcnMifQ.B5rBbh4fDvTHEqQHrGU_Bg";var t=this.state,a=t.lat,n=t.lng,s=t.zoom,r=t.style;t.activeType;this.map=new f.a.Map({container:this.mapContainer,style:r,center:[n,a],zoom:s}),this.map.on("load",Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.map.addSource("earthquakes",{type:"geojson",data:"https://raw.githubusercontent.com/Devansh-S/shapefiles/master/state_ut/jj.geojson"}),e.map.addLayer({id:"earthquakes",type:"line",source:"earthquakes",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(255,128,0)","line-width":2}});case 2:case"end":return t.stop()}}),t)}))))}},{key:"swapStyle",value:function(e){var t=this,a=this.map.getStyle();Object(v.a)("https://api.mapbox.com/styles/v1/mapbox/".concat(e,"?access_token=").concat(f.a.accessToken),(function(e){e.sources=Object.assign({},a.sources,e.sources);var n=e.layers.findIndex((function(e){return"waterway-label"===e.id})),s=a.layers.filter((function(e){return e.source&&"mapbox://mapbox.satellite"!==e.source&&"composite"!==e.source}));s.reverse(),s.forEach((function(t){e.layers.splice(n,0,t)})),t.map.setStyle(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(b,{Layers:this.state.styles,Types:this.state.types,changeStyle:this.handleStyleBtnClick,changeType:this.handleTypeBtnClick}),s.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(s.a.Component),y=a(20),k=(a(35),a(36),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"base-container",ref:this.props.containerRef},s.a.createElement("div",{className:"header"},"Login"),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.props.usernameValue,onChange:function(t){return e.props.onChangeUsername(t.target.value)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.props.passwordValue,onChange:function(t){return e.props.onChangePassword(t.target.value)}}))),s.a.createElement("button",{type:"button",className:"btn",onClick:function(t){return e.props.onClick(t)},disabled:this.props.BtnDisable},"Login")))}}]),a}(s.a.Component)),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"base-container",ref:this.props.containerRef},s.a.createElement("div",{className:"header"},"Register"),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"username",placeholder:"username"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.props.usernameValue,onChange:function(t){return e.props.onChangeUsername(t.target.value)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"password",placeholder:"password",value:this.props.passwordValue,onChange:function(t){return e.props.onChangePassword(t.target.value)}}))),s.a.createElement("button",{type:"button",className:"btn",onClick:function(t){return e.props.onClick(t)},disabled:this.props.BtnDisable},"Register")))}}]),a}(s.a.Component),w=a(21),j=a.n(w),C=a(22),S=(new function e(){Object(o.a)(this,e),Object(C.a)(this,{loading:!0,isLoggedIn:!1,username:""})},a(23)),x=a.n(S).a.initializeApp({apiKey:"AIzaSyBtXnFAj2YBJnxXbXvtAt3h3bcblS1KUaE",authDomain:"gtfapp-eb372.firebaseapp.com",databaseURL:"https://gtfapp-eb372.firebaseio.com",projectId:"gtfapp-eb372",storageBucket:"gtfapp-eb372.appspot.com",messagingSenderId:"961355962531",appId:"1:961355962531:web:31520bc4120f103f1d8716",measurementId:"G-PVZ0QY8L1K"}),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",buttonDisabled:!1},n}return Object(c.a)(a,[{key:"setInputValue",value:function(e,t){t=t.trim(),this.setState(Object(y.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"doLogin",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:this.setState({buttonDisabled:!0});try{x.auth().signInWithEmailAndPassword(this.state.username,this.state.password).then((function(e){})).catch((function(e){console.log(e)}))}catch(t){console.log(t),this.resetForm()}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSignup",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:this.setState({buttonDisabled:!0});try{alert("SignUp is Disabled! Please Login using given credentials")}catch(t){console.log(t),this.resetForm()}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.rightSide.classList.add("right")}},{key:"changeState",value:function(){this.state.isLogginActive?(this.rightSide.classList.remove("right"),this.rightSide.classList.add("left")):(this.rightSide.classList.remove("left"),this.rightSide.classList.add("right")),this.setState((function(e){return{isLogginActive:!e.isLogginActive}}))}},{key:"render",value:function(){var e=this,t=this.state.isLogginActive,a=t?"Register":"Login",n=t?"login":"register";return s.a.createElement("div",{className:"LoginApp"},s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"mainContainer"},s.a.createElement("img",{src:j.a}),s.a.createElement("div",{className:"container",ref:function(t){return e.container=t}},s.a.createElement("div",{className:"inner-box"}),t&&s.a.createElement(k,{containerRef:function(t){return e.current=t},usernameValue:this.state.username?this.state.username:"",onChangeUsername:function(t){return e.setInputValue("username",t)},passwordValue:this.state.password?this.state.password:"",onChangePassword:function(t){return e.setInputValue("password",t)},onClick:function(t){return e.doLogin(t)},BtnDisable:this.buttonDisabled}),!t&&s.a.createElement(E,{containerRef:function(t){return e.current=t},usernameValue:this.state.username?this.state.username:"",onChangeUsername:function(t){return e.setInputValue("username",t)},passwordValue:this.state.password?this.state.password:"",onChangePassword:function(t){return e.setInputValue("password",t)},onClick:function(t){return e.doSignup(t)},BtnDisable:this.buttonDisabled}),s.a.createElement(N,{current:a,currentActive:n,containerRef:function(t){return e.rightSide=t},onClick:this.changeState.bind(this)})))))}}]),a}(s.a.Component),N=function(e){return s.a.createElement("div",{className:"right-side",ref:e.containerRef,onClick:e.onClick},s.a.createElement("div",{className:"inner-container"},s.a.createElement("div",{className:"text"},e.current)))},L=O,I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogginActive:!0,isUserLoggedIn:{}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;x.auth().onAuthStateChanged((function(t){console.log(t),t?e.setState({isUserLoggedIn:t}):e.setState({isUserLoggedIn:null})}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isUserLoggedIn?s.a.createElement(g,null):s.a.createElement(L,null))}}]),a}(s.a.Component);f.a.accessToken="pk.eyJ1IjoiZGV2NTk2IiwiYSI6ImNrOHJsaHY5cDAzcGQzbHBqc21vaWsxcnMifQ.B5rBbh4fDvTHEqQHrGU_Bg",i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.33a7ee80.chunk.js.map